<!DOCTYPE >
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>waterfull</title>
		<script src="js/jquery-2.0.2.min.js"></script>
		<style type="text/css">
			.content{
				position: relative;
			}
			.item{
				position: absolute;
				width: 200px;
				margin-right: 10px;
				margin-top:10px;
				transition: all 1s;
			}
			.h1{
				height: 200px;
				background-color: #f4b300;
			}
			.h2{
				height: 300px;
				background-color: #69abb8;
			}
			.h3{
				height: 400px;
				background-color: #006ac1;
			}
		</style>
	</head>
	<body>
		<div class="content">
			<div class="item h1">1</div>
			<div class="item h2">2</div>
			<div class="item h3">3</div>
			<div class="item h2">4</div>
			<div class="item h1">5</div>
			<div class="item h3">6</div>
			<div class="item h3">7</div>
			<div class="item h2">8</div>
			<div class="item h3">9</div>
			<div class="item h2">10</div>
			<div class="item h3">11</div>
			<div class="item h3">12</div>
			<div class="item h2">13</div>
			<div class="item h1">14</div>
			<div class="item h1">15</div>
			<div class="item h2">16</div>
			<div class="item h3">17</div>
		</div>
		<script type="text/javascript">
			
			waterfull()
			function waterfull(){
				var colLength=parseInt($('.content').width()/$('.item').width())
				var itemArr=[];
				for(var i=0;i<colLength;i++)
				{
					itemArr[i]=0
				}
				$('.item').each(function(){
					var minValue=Math.min.apply(null,itemArr)
					var minIndex=itemArr.indexOf(minValue)
					$(this).css({
						top:itemArr[minIndex],
						left:$(this).outerWidth(true)*minIndex
					})
					itemArr[minIndex]+=$(this).outerHeight(true)
				})
			}
		</script>
	</body>
</html>